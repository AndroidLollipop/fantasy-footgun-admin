(this["webpackJsonpfantasy-footgun-admin"]=this["webpackJsonpfantasy-footgun-admin"]||[]).push([[0],{211:function(e,t){e.exports={makeRanker:function(e){var t=0,n={},a=[];return function(i){i=i.trim().toLowerCase().split(/\b\s+/);t||(!function(e,t,n){for(var a=0;a<e.length;a++){for(var i=Object.values(e[a]).map((function(e){return e.toString().trim().toLowerCase().split(/\b\s+/)})).flat(),r={},l=0;l<i.length;l++)r[i[l]]||(n[i[l]]||(n[i[l]]=0),n[i[l]]++,r[i[l]]=0),r[i[l]]+=1/i.length;t.push(r)}var c=Object.keys(n);for(a=0;a<c.length;a++)n[c[a]]?n[c[a]]=Math.log(e.length/n[c[a]]):n[c[a]]=0}(e,a,n),t=1);for(var r=[],l=0;l<e.length;l++)r.push([0,0,l,e[l]]);for(l=0;l<i.length;l++)for(var c=i[l],o=0;o<e.length;o++)a[o][c]&&(r[o][0]-=a[o][c]*n[c],r[o][1]-=a[o][c]);return r=r.sort((function(e,t){for(var n=0;e[n]===t[n];)n++;return e[n]-t[n]})).map((function(e){return e[3]}))}}}},213:function(e,t,n){"use strict";n.r(t);var a=n(63),i=n.n(a),r=n(95),l=n(6),c=n(82),o=n(64),s=n(21),u=n(35),d=n(0),f=n(10),p=n(127),h=n.n(p),m=n(94),b=n(242),j=n(243),v=n(252),y=n(244),x=n(245),g=n(246),O=n(247),N=n(248),T=n(249),k=n(250),w=n(253),D=n(119),P=n(251),S=(n(173),n.p+"static/media/5sirlogo.a6ac04db.jpg"),C=n(206);console.log("fantasy-footgun-admin 0.1.6a");n(211);for(var E,R,B,A,W=function(e){return C("sha256").update(e).digest("base64")},_=!1,M=function(e){var t=e.childContext,n=e.mykey,a=e.children,i=d.useRef(n);return i.current!==n&&null!==i.current&&(t.current[i.current]=window.scrollY,i.current=null),d.useLayoutEffect((function(){i.current=n,void 0===t.current[n]&&(t.current[n]=0),window.scrollTo(window.scrollX,t.current[n])}),[n,i]),a},I=function(){var e,t=d.useState([]),n=Object(s.a)(t,2),a=n[0],i=n[1];i,d.useEffect((function(){(E=h()("https://sheltered-atoll-88652.herokuapp.com/",{secure:!0})).on("sendIndents",(function(e){te=Object(o.a)({},e),me()})),E.on("sendNotifications",(function(e){ie=Object(u.a)(e),xe()})),E.on("commit",(function(e,t){if(void 0!==e){if(e<X)return;X=e,void 0!==J[e]&&J[e]([!0,t])}})),E.on("fail",(function(e,t){if(alert(e),void 0!==t){if(t<X)return;X=t,void 0!==J[t]&&J[t]([!1,null])}})),E.on("sendAdminSalt",(function(e){B=e,_&&(_=!1,t())}));var e=function(){var e=prompt("Please enter the administrator password");A=W("".concat("mkAmN1iwuMpqfckRXDRwwmgSI+nfZTF3kKR0bs2MZnM=","::").concat(e)),void 0!==B?t():_=!0},t=function(){R=W("".concat(B,"::").concat(A)),E.emit("requestAdminAuth",R)};return E.on("sendAuthFailed",e),E.emit("requestAdminSalt",""),e(),function(){E.disconnect()}}),[]);var r=d.useState(0),f=Object(s.a)(r,2),p=f[0],m=f[1],b=d.useRef(null),j=d.useRef([]),v=d.useRef(0);d.useEffect((function(){if(b.current){v.current=b.current.offsetHeight;var e,t=Object(c.a)(j.current);try{for(t.s();!(e=t.n()).done;){(0,e.value)(b.current.offsetHeight)}}catch(n){t.e(n)}finally{t.f()}}}),[b,null===b||void 0===b||null===(e=b.current)||void 0===e?void 0:e.offsetHeight]);d.useRef({});var y=d.useRef({});return Object(l.jsx)("div",{children:Object(l.jsx)(de,{childWrapper:M,childContext:y,selTab:p,setSelTab:m,appbarRef:b,children:[Object(l.jsx)("div",{label:"winners",mykey:"defaultTab0",children:Object(l.jsx)(z,{id:0})},"defaultTab0"),Object(l.jsx)("div",{label:"settings",myKey:"defaultTab2",children:Object(l.jsx)(F,{})},"defaultTab2")].concat(Object(u.a)(a.map((function(e,t){e.type,e.params;return Object(l.jsx)("div",{})}))))})})},L=function(e,t){var n,a=null===(n=e.find((function(e){return e.name===t})))||void 0===n?void 0:n.fullName;return"string"===typeof a?a:t},F=function(){var e=ae(),t=d.useState(e),n=Object(s.a)(t,2),a=n[0],i=n[1];d.useEffect((function(){var e=ve(i);return function(){return ye(e)}}),[]);var r=V();return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{height:"12px"}}),Object(l.jsx)(m.a,{square:!0,children:Object(l.jsx)($,{data:a,generator:function(e){return Object(l.jsxs)(b.a,{children:[Object(l.jsx)(j.a,{align:"center",children:e.category}),Object(l.jsx)(j.a,{align:"center",children:L(r.blobs.Soldiers,e.winner)})]})},style:Q})})]})},H={},X=0,q=0,J=[],K=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q++,r=new Promise((function(e){return a=e})),J[q]=a,E.emit("writeNotifications",R,t),e.next=6,r;case 6:return l=e.sent,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){return ne},Y=function(e){for(var t in e){var n=e[t];if(!n||"string"===typeof n&&0===n.length)return["FAILED","Please fill in all fields"]}return["SUCCESS"]},Z=function(e){var t=e.blobs,n=e.prefill,a=e.fields,o=e.formPersistentStore,f=(e.validator,[]),p=void 0===o?{}:o;void 0===p.data&&(p.data=a.map((function(e){if("object"===typeof n){var t=n[e.name];if(void 0!==t)return t}return e.initialData})));for(var h=d.useState(p.data),m=Object(s.a)(h,2),b=m[0],j=m[1],x=b,g=function(){var e=O,t=a[e];f.push([b[e],function(t){(x=Object(u.a)(x))[e]=t,p.data=x,j(x)},t.initialData,t.name,t.friendlyName,t.fieldType,t.options,t.blobName])},O=0;O<a.length;O++)g();var N=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,r,l,o,u,d,p,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(c.a)(f);try{for(a.s();!(r=a.n()).done;)l=Object(s.a)(r.value,6),o=l[0],l[1],l[2],u=l[3],d=l[4],p=l[5],G[p],n.push({name:u,category:d,winner:o})}catch(t){a.e(t)}finally{a.f()}return console.log(n),e.next=6,K(n);case 6:h=e.sent,m=Object(s.a)(h,2),m[0],m[1];case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:f.map((function(e,n){var a,i,r=Object(s.a)(e,8),c=r[0],o=r[1],f=(r[2],r[3],r[4]),p=r[5],h=r[6],m=r[7];return Object(l.jsx)("div",{style:U,children:"datetime"===p?Object(l.jsx)(v.a,{id:"datetime-local",fullWidth:!0,label:f,type:"datetime-local",variant:"outlined",value:c,onChange:function(e){return o(e.target.value)},InputLabelProps:{shrink:!0},style:{maxWidth:"1000px"}}):"select"===p?Object(l.jsx)(v.a,{fullWidth:!0,select:!0,label:f,variant:"outlined",value:c,SelectProps:{native:!0},onChange:function(e){return o(e.target.value)},InputLabelProps:{shrink:!0},style:{maxWidth:"1000px"},children:h.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))}):"selectBlob"===p?Object(l.jsxs)(d.Fragment,{children:[Object(l.jsx)(v.a,{fullWidth:!0,select:!0,label:f,variant:"outlined",value:c,SelectProps:{native:!0},onChange:function(e){return o(e.target.value)},InputLabelProps:{shrink:!0},style:{maxWidth:"1000px"},children:function(e){return[Object(l.jsx)("option",{value:"TBD",children:"TBD"},-1)].concat(Object(u.a)(e))}(t[m].map((function(e,t){return Object(l.jsx)("option",{value:e.name,children:e.friendlyName},t)})))}),Object(l.jsx)("div",{style:{flexBasis:"100%",height:"12px"}}),null===c?Object(l.jsx)("div",{style:{height:125,width:1}}):Object(l.jsx)("img",{src:null===(a=t[m].find((function(e){return e.name===c})))||void 0===a?void 0:a.photo,height:125})]}):"multi"===p?Object(l.jsx)(v.a,{fullWidth:!0,multiline:!0,label:f,variant:"outlined",value:null!==(i=c[0])&&void 0!==i?i:"",onChange:function(e){return o([e.target.value])},InputLabelProps:{shrink:!0},style:{maxWidth:"1000px"}}):Object(l.jsx)(v.a,{fullWidth:!0,multiline:!0,label:f,variant:"outlined",value:c,onChange:function(e){return o(e.target.value)},InputLabelProps:{shrink:!0},style:{maxWidth:"1000px"}})},n)}))}),Object(l.jsx)("div",{style:{height:"12px"}}),Object(l.jsx)(y.a,{variant:"outlined",onClick:N,children:"choose winners"}),Object(l.jsx)("div",{style:{height:"48px"}})]})},G={datetime:function(e){try{if(e.length>0)return e.slice(8,10)+"/"+e.slice(5,7)+"/"+e.slice(0,4)+" "+e.slice(11,16)}catch(t){}return e}},U={display:"flex",flexWrap:"wrap",justifyContent:"center",paddingLeft:"12px",paddingRight:"12px",paddingTop:"5px",paddingBottom:"7px"},z=function(e){var t=e.id,n=(e.cloneID,V());return Object(l.jsxs)("div",{style:Q,children:[Object(l.jsx)("div",{style:{height:"12px"}}),Object(l.jsx)(Z,{blobs:n.blobs,prefill:void 0,fields:n.fields,defaults:re,formPersistentStore:H[t],validator:Y})]})},Q={font:"20px Arial, sans-serif"},$=function(e){var t=e.data,n=e.generator,a=(e.style,e.header),i=e.tail;return Object(l.jsx)(x.a,{children:Object(l.jsxs)(g.a,{stickyHeader:!0,children:[a,Object(l.jsx)(O.a,{children:t.map(n)}),i]})})},ee=function(e){var t=[];return[function(e){return t.push(e)-1},function(e){e>-1&&e<t.length&&(t[e]=function(){})},function(){var n,a=Object(c.a)(t);try{for(a.s();!(n=a.n()).done;){(0,n.value)(e())}}catch(i){a.e(i)}finally{a.f()}}]},te={columns:[],rows:[]},ne={fields:[{name:"sar21",initialData:"TBD",friendlyName:"Best SAR21",fieldType:"selectBlob",blobName:"Soldiers",display:"textPhoto"},{name:"saw",initialData:"TBD",friendlyName:"Best SAW",fieldType:"selectBlob",blobName:"Soldiers",display:"textPhoto"},{name:"gpmg",initialData:"TBD",friendlyName:"Best GPMG",fieldType:"selectBlob",blobName:"Soldiers",display:"textPhoto"}],data:{},blobs:{Soldiers:[{name:"Alpha",fullName:"PTE 1",friendlyName:"Alpha - PTE 1",photo:"https://i.pinimg.com/originals/3e/37/24/3e3724692c15d28f12a4c7bc6fe0b945.jpg"},{name:"Bravo",fullName:"PTE 2",friendlyName:"Bravo - PTE 2",photo:"https://scontent.fsin13-1.fna.fbcdn.net/v/t1.6435-9/64861023_2345584528868126_2696896092137586688_n.jpg?_nc_cat=107&ccb=1-5&_nc_sid=174925&_nc_ohc=kUjXJTOpnBwAX-aymIb&_nc_ht=scontent.fsin13-1.fna&oh=00_AT80RHyc6Z9aJrAh8nXipP93by8NOtWDXFiVM6iktKjBfg&oe=62306048"},{name:"Charlie",fullName:"PTE 3",friendlyName:"Charlie - PTE 3",photo:"https://i.pinimg.com/280x280_RS/d2/ab/39/d2ab39788ec4254ab7761317448f5da3.jpg"},{name:"Support",fullName:"PTE 4",friendlyName:"Support - PTE 4",photo:"https://c8.alamy.com/comp/D198EY/a-balinese-man-in-a-singapore-army-camo-shirt-D198EY.jpg"},{name:"MSC",fullName:"PTE 5",friendlyName:"MSC - PTE 5",photo:"https://www.janes.com/images/default-source/news-images/fg_3808936-idr-9354.jpg?sfvrsn=b60dfede_2"}]}},ae=function(){return ie},ie=[],re=[{name:"addInfo",initialData:"",friendlyName:"Additional Info",optional:!0},{name:"status",initialData:"Pending",friendlyName:"Status"}],le={},ce={},oe=0,se=[].concat([{name:"emailsNotify",initialData:[],friendlyName:"Email",fieldType:"multi",persistent:!0,optional:!0},{name:"system",initialData:"Military",friendlyName:"Vehicle type",fieldType:"select",options:["Military","Civilian"]},{name:"name",initialData:"",friendlyName:"Purpose"},{name:"startDateTime",initialData:"",friendlyName:"Start time",fieldType:"datetime"},{name:"endDateTime",initialData:"",friendlyName:"End time",fieldType:"datetime"},{name:"origin",initialData:"",friendlyName:"Reporting location"},{name:"destination",initialData:"",friendlyName:"Destination"},{name:"POC",initialData:"",friendlyName:"Contact person"},{name:"POCPhone",initialData:"",friendlyName:"Contact person number"},{name:"vehicles",initialData:"",friendlyName:"Vehicles"},{name:"notes",initialData:"",friendlyName:"Notes",optional:!0}],re);oe<se.length;oe++){var ue=se[oe];le[ue.name]=ue.friendlyName,ce[ue.name]={persistent:ue.persistent,optional:ue.optional}}var de=function(e){var t=e.childWrapper,n=e.childContext,a=e.children,i=e.selTab,r=e.setSelTab,c=e.appbarRef,s=[Object(l.jsx)(N.a,{style:{opacity:1,minWidth:0,minHeight:0,padding:0},disableRipple:!0,selected:!0,label:Object(l.jsx)("div",{style:{height:"48px",width:"48px"},children:Object(l.jsx)("img",{src:S,height:"48px",width:"48px"})})}),Object(l.jsx)(N.a,{label:"fantasy skill at arms",disableRipple:!0})],d=t;return Object(l.jsxs)("div",{children:[Object(l.jsx)(T.a,{title:Object(l.jsx)(k.a,{children:"Fantasy Skill at Arms"}),position:"sticky",style:{top:"env(safe-area-inset-top)"},ref:c,children:Object(l.jsx)(w.a,{variant:"scrollable",value:Math.min(i,a.length-1)+s.length,children:[].concat(s,Object(u.a)(a.map((function(e,t){var n=Object(o.a)(Object(o.a)({},e.props),{},{removeCallback:function(){return e.props.removeCallback(t,a.length)},onClick:function(){r(t)},active:t===Math.min(i,a.length-1),key:e.props.mykey});return Object(l.jsx)(fe,Object(o.a)({},n))}))),[])})}),Object(l.jsx)("div",{children:Object(l.jsx)(d,{childContext:n,mykey:a[Math.min(i,a.length-1)].props.mykey,children:a[Math.min(i,a.length-1)]})})]})},fe=function(e){var t=e.label,n=e.onClick,a=e.active,i=e.removable,r=e.removeCallback;return Object(l.jsx)(N.a,{style:{padding:0},disableRipple:!0,selected:!0,label:Object(l.jsxs)("span",{children:[Object(l.jsx)(N.a,{label:t,onClick:n,selected:!!a||null}),i?Object(l.jsx)(D.a,{size:"small",onClick:r,children:Object(l.jsx)(P.a,{style:{fill:"red"}})}):void 0]})})},pe=ee((function(){return te})),he=Object(s.a)(pe,3),me=(he[0],he[1],he[2]),be=ee(ae),je=Object(s.a)(be,3),ve=je[0],ye=je[1],xe=je[2];f.render(Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsx)(I,{})}),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.0cf8116d.chunk.js.map